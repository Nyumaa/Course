!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.React.tagify=t()}(this,function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.MixedTags=void 0;var e,t=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return function(){return e},e}();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var u=n?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}(require("react")),r=require("react-dom/server"),n=require("prop-types"),o=(e=require("./tagify.min.js"))&&e.__esModule?e:{default:e};function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}const a=e=>e,l=({name:e,value:n="",loading:u=!1,onInput:l=a,onAdd:s=a,onRemove:c=a,onEdit:i=a,onInvalid:f=a,onClick:d=a,onKeydown:p=a,onFocus:g=a,onBlur:y=a,onChange:h=a,readOnly:m,children:O,settings:b={},InputMode:v="input",autoFocus:w,className:j,whitelist:E,tagifyRef:x,placeholder:M="",defaultValue:P,showDropdown:k})=>{const R=(0,t.useRef)(),T=(0,t.useRef)(),C=(0,t.useRef)(),I=(0,t.useMemo)(()=>({ref:e=>{T.current=e},name:e,value:O||("string"==typeof n?n:JSON.stringify(n)),className:j,readOnly:m,onChange:h,autoFocus:w,placeholder:M,defaultValue:P}),[]),N=(0,t.useCallback)(()=>{w&&C.current&&C.current.DOM.input.focus()},[C]);return(0,t.useEffect)(()=>{!function(e){if(e)for(let n in e)if(String(e[n]).includes(".createElement")){let o=e[n];e[n]=(e=>(0,r.renderToStaticMarkup)(t.default.createElement(o,e)))}}(b.templates),"textarea"==v&&(b.mode="mix"),E&&E.length&&(b.whitelist=E);const e=new o.default(T.current,b);return l&&e.on("input",l),s&&e.on("add",s),c&&e.on("remove",c),i&&e.on("edit",i),f&&e.on("invalid",f),p&&e.on("keydown",p),g&&e.on("focus",g),y&&e.on("blur",y),d&&e.on("click",d),x&&(x.current=e),C.current=e,N(),()=>{e.destroy()}},[]),(0,t.useEffect)(()=>{N()},[w]),(0,t.useEffect)(()=>{R.current&&(C.current.settings.whitelist.length=0,E&&E.length&&C.current.settings.whitelist.push(...E))},[E]),(0,t.useEffect)(()=>{R.current&&C.current.loadOriginalValues(n)},[n]),(0,t.useEffect)(()=>{R.current&&C.current.toggleClass(j)},[j]),(0,t.useEffect)(()=>{R.current&&C.current.loading(u)},[u]),(0,t.useEffect)(()=>{R.current&&C.current.setReadonly(m)},[m]),(0,t.useEffect)(()=>{const e=C.current;R.current&&(k?(e.dropdown.show.call(e,k),e.toggleFocusClass(!0)):e.dropdown.hide.call(e))},[k]),(0,t.useEffect)(()=>{R.current=!0},[]),t.default.createElement("div",{className:"tags-input"},t.default.createElement(v,I))};l.propTypes={name:n.string,value:(0,n.oneOfType)([n.string,n.array]),loading:n.bool,children:n.element,onChange:n.func,readOnly:n.bool,settings:n.object,InputMode:n.string,autoFocus:n.bool,className:n.string,tagifyRef:n.object,whitelist:n.array,placeholder:n.string,defaultValue:(0,n.oneOfType)([n.string,n.array]),showDropdown:(0,n.oneOfType)([n.string,n.bool])};const s=t.default.memo(l);s.displayName="Tags",exports.MixedTags=(e=>{let r=e.children,n=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["children"]);return t.default.createElement(s,u({InputMode:"textarea"},n),r)});var c=s;return exports.default=c,s});